{"ast":null,"code":"import { isBrowser } from '@loaders.gl/loader-utils';\nconst NODE_FORMAT_SUPPORT = ['image/png', 'image/jpeg', 'image/gif'];\nconst mimeTypeSupported = {};\nexport function _isImageFormatSupported(mimeType) {\n  if (mimeTypeSupported[mimeType] === undefined) {\n    mimeTypeSupported[mimeType] = checkFormatSupport(mimeType);\n  }\n\n  return mimeTypeSupported[mimeType];\n}\n\nfunction checkFormatSupport(mimeType) {\n  switch (mimeType) {\n    case 'image/webp':\n      return checkWebPSupport();\n\n    case 'image/svg':\n      return isBrowser;\n\n    default:\n      if (!isBrowser) {\n        const {\n          _parseImageNode\n        } = globalThis;\n        return Boolean(_parseImageNode) && NODE_FORMAT_SUPPORT.includes(mimeType);\n      }\n\n      return true;\n  }\n}\n\nfunction checkWebPSupport() {\n  if (!isBrowser) {\n    return false;\n  }\n\n  try {\n    const element = document.createElement('canvas');\n    return element.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n  } catch {\n    return false;\n  }\n}","map":null,"metadata":{},"sourceType":"module"}